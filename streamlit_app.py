
import streamlit as st
import requests
import pandas as pd
import matplotlib.pyplot as plt

st.set_page_config(page_title="BiztelAI Chat Analyzer", layout="centered")
st.title("üìä BiztelAI Chat Transcript Analyzer")

# Sidebar
st.sidebar.title("üîë Settings")
api_key = st.sidebar.text_input("API Key", value="biztel-secret-key", type="password")

# Full dropdown for selecting transcript
transcript_ids = ['t_d004c097-424d-45d4-8f91-833d85c2da31', 't_04eea955-7ad7-4c3c-aa0b-0fc16e89ae1d', 't_f6789857-c30c-423a-bdf5-d6207dc7db9d', 't_c0f787a2-1a4a-47c3-95aa-50b5567504e8', 't_50e092b4-c009-4c92-8756-4b334e26db38', 't_36066ee7-42fb-413c-bce1-25a6933b938a', 't_a623cf24-80e2-4408-b315-714c3bfac9fb', 't_3c4b17af-eb78-4ad0-a5a6-fca2c14aa4c1', 't_3db0cb0e-58ac-4f80-aac9-e6ac91460545', 't_50747dbe-ee88-437b-a987-e15b091f2206', 't_5653dfe8-69f5-4285-a32c-cb1bd01f40b4', 't_f39b54ee-1046-4f73-bd41-da933771ba1b', 't_2bf05751-1489-43ec-b538-e21404300022', 't_c41223cb-1b3d-4a2e-9a3f-1ad884b4a073', 't_fd00ca19-25b0-4f63-a47a-0b6b1722d79a', 't_6c02f06c-0cf6-4906-8ff6-eb23afbedf78', 't_ca37a52a-07a5-4460-89d8-a9a933ee94ff', 't_ca005e17-cb51-44c5-a475-af8fc54bd970', 't_551f37f7-aea2-402b-a97e-1d1000e0d7af', 't_5fb737e9-504e-49c5-bddf-e7b754522b6b', 't_3394e60b-87f0-489b-a2ae-861785b9017d', 't_df1cb172-90f1-48da-8d9b-818f8cb7696d', 't_51d376af-dd7d-4388-a2f8-c838f92e6145', 't_b31200a6-d91c-4a75-8fdc-b7af988b5aa5', 't_305bd8fe-2aed-49e5-bac1-af4c9311efb9', 't_e9942b54-d1b7-49b1-a2cc-b80e62260bd5', 't_f11b25b0-d512-4784-a33b-bb3a34d6b63f', 't_30cb4669-8dcc-48ee-8d96-0a90ee2bc662', 't_6094ae1e-c74c-4dab-b6ce-ffe95284d851', 't_cbefc817-cebe-4077-a010-8f304448887a', 't_45f6f254-c795-4a81-adc5-a5c8fdd83599', 't_ced5041a-f53e-424b-b99f-1dc9a64e0428', 't_a3259110-f985-400f-a68a-23bebb5e2433', 't_21b905b4-f237-45e6-9e33-812f479a17aa', 't_f5297c3e-d4fc-425e-a3f9-f3a231464d1d', 't_ec70278b-2709-4911-9ab6-18b9272592e1', 't_fb396e70-933c-451d-99ec-82aca1d2e0e4', 't_a44865eb-bcbb-43dc-8405-853cc9f1e06d', 't_369cf3a0-bb67-4304-8a69-ce81a72d4667', 't_58b5262d-22ab-4dc8-a0ff-96316174b53d', 't_b0f8601a-cd27-4492-bbfa-efbf0eea8c73', 't_cfd71db7-9e8c-423c-aa79-c71873591b2f', 't_23fff98d-1b1f-4f55-990d-1d511349a32c', 't_93dc1804-5f5e-42d8-8fe2-c9acb3970219', 't_c5bf51cb-086b-4a5f-9c7e-817f73bc917e', 't_bf7ce8ac-8681-47a1-9421-114df4038e7d', 't_e917a029-0424-4a8e-aae9-009ea35b53c3', 't_bde0f526-1d32-4394-9548-7342146f0129', 't_67a4aaa7-0bf0-4280-a14c-a85bd76d9807', 't_abb6082f-9db6-46e2-b8a6-44e9dcd20dbc', 't_c608de24-2096-4b4d-8b26-d03ef6dee811', 't_97c7f21f-c382-4222-9315-8a1e6059074d', 't_bfce9b60-0baa-4bc0-bcc9-2e6de9b222d6', 't_d01805f5-8c84-4897-835a-8ed80b465915', 't_f0e894ec-d2ca-4f3c-94cf-750389cb7a48', 't_cf849af5-7294-4574-9cb5-c7f4d9e33240', 't_ef78fec3-5245-49cd-a97f-d3553d1c0205', 't_8641a2ff-113b-4a43-abce-afe613d99be6', 't_cd147f3e-6c00-4497-95fe-a180f7ddd8ac', 't_bd87d76f-9f9b-4e14-9dae-84181a918068', 't_ddf20667-58ef-4fa3-aeea-d28d4aca92e7', 't_fa0a4671-84ba-43f7-a754-64d3bde8cab1', 't_7fcdf339-5ebc-43fe-9272-771f8ec2b2ac', 't_585ce67f-8494-49ca-9efc-9c855b08ecd0', 't_9ef31f1d-1f5c-4d2c-ac58-714eaf03153e', 't_c8213cfd-2ec9-49de-8324-9b436bccc2c0', 't_241fd1c1-8c46-4303-9afc-685343413755', 't_bfa66d9e-5607-4d07-b00d-9a087626ca3d', 't_90f798db-a196-442a-9e1f-4adc68c0110a', 't_d58d3a06-d84f-4c0a-9028-cdbe5bce3381', 't_0b134930-6235-413f-83aa-cc4a40b742c2', 't_cfb565de-2670-45f3-9819-6ed27e1911a3', 't_4a0a956b-b8e8-4390-a983-c8270e173796', 't_1485b8d8-a109-4760-8bbe-dcdfa658621b', 't_3a869f48-3dd9-4a7b-9031-48e9a5830d10', 't_a8b53c28-f3df-4dd5-8a44-da9bcd5cc318', 't_6b14a7c9-34ae-4c50-a00f-f055d689a486', 't_7b8dfe3f-5142-449c-980f-609e9e5ab8f4', 't_551a1005-f89c-4944-b140-56c23981ed6c', 't_2763fc34-2c20-46e5-a21f-766019336c1d', 't_c70b2f88-c65b-4b70-a7d7-6caf4ca3c42e', 't_94027a0b-a179-4e53-8d36-386e3249900c', 't_a63bd1b7-7175-483e-942d-b405356238e5', 't_a9c78611-74dd-4e95-8d88-28d2aa254909', 't_9952de60-b67b-4cd2-b7bd-a1e14b4e2813', 't_32452e73-4da4-4248-a103-33b7c4fc6698', 't_8b90c31c-75e0-465d-9e96-801fd1c0deae', 't_5cacb771-1e2b-4899-a34c-a84f647a4de7', 't_bc596796-a394-420e-b537-199c0a66841e', 't_28285144-6a6e-4372-be33-64ebb7581548', 't_f989b817-6945-4d19-b71d-758ccb6ca0d0', 't_2292cc74-06db-46f4-a3f5-ef896f330442', 't_d0e1b01f-3de4-4e65-834f-0dc5ec710df1', 't_9da7a0b1-c114-4c2f-94a6-3652bb67af12', 't_d70e9013-b3c4-4d2b-a1ea-9bfc7fa520ea', 't_3df81402-daac-4d53-952d-dc5ffa2c63eb', 't_1164c0f7-5acb-4da7-b150-e0d4e18699de', 't_c43e92c4-f0bd-4b01-9255-e1d062b2fbe8', 't_9b32c816-7980-4b03-b3c4-10ff2570c880', 't_39c386fb-07e8-4afc-8ce1-a6e2d2b1f6b9', 't_d0644be4-74b2-41fe-8376-b6c035c117e6', 't_d7a91baa-2488-414f-9420-a49ad2ea0c74', 't_bb7849bb-be76-45e1-9d45-afff14ab0fff', 't_335bba18-73f1-4abb-8e51-fed7d6a1eb04', 't_d682d1c0-f734-40a6-8927-8dd0e2ba7e7c', 't_4685cf42-d65f-4a63-a28a-6ad79c1db28b', 't_d613dd6a-5ecc-43dc-980f-14595960b0b3', 't_472b57f9-e164-463a-b853-dfff69e2017c', 't_fa32224b-cfce-448a-9ad9-9cafa3e89259', 't_f32b3274-ddd2-4cd3-a801-da8eace78fec', 't_afc847d7-d13e-4c0b-8cf1-2eb83529d12e', 't_d8c6dc60-13c6-4a91-b776-64912bd52980', 't_a0a64063-01c8-4072-8005-1dd3f7ae92a8', 't_ff4e22eb-98c0-45bf-98fc-c50c9843b4e4', 't_8bedc3b8-bfe6-4f98-9276-b4ad09b6a259', 't_2a3b6a2a-b5aa-4a42-adec-ade76d8cd300', 't_84ea2f83-4b3b-4998-a9b5-5dc051740d54', 't_9a7b0edf-662f-42ab-99f1-f5d31ba5714c', 't_3028340b-4fd4-4498-9d53-ac6ec2c2124d', 't_9e054221-5b51-4445-ac9d-fa5df8f7a7ab', 't_ab05e3d4-7c4b-4be1-8587-b2da74b39b0e', 't_1fa6a3f4-a91e-48f8-90ae-83292d6ac97f', 't_4ce4ac49-cc7f-451c-afa3-4b8532f40d1e', 't_93f0a0e8-079d-4e04-b50e-f7468da5d320', 't_6d4f92f5-a83e-4210-9a69-5e5475bf14b1', 't_212100c9-983d-4b52-9a43-6dc80ccd5678', 't_02aed34d-1372-404a-865d-978c1bbef566', 't_0391a207-435e-4863-a1cc-ecb9f16bbc62', 't_3feaeda2-e37a-4e0f-8762-29eb67352dbd', 't_9ee9316a-1f6b-465e-921b-52e5068d0db5', 't_230aed22-2bf1-4e68-a4e3-ca881ef83194', 't_a367ca8f-d981-44c5-bb12-2f45a34e88a8', 't_c12236e5-7c45-4472-8a5e-a274213e57ee', 't_1f25680a-3698-489f-9b50-3ea202aeb451', 't_6b2dbf55-a78f-48e5-83dd-d372bcaf5f79', 't_3635c988-3e69-4bbd-8e52-7a3cbca88936', 't_5f709939-f6f1-414a-8d00-c80979f844a2', 't_fbdc37a2-194b-4a1c-9a1d-36850ea4a685', 't_32da247c-c9eb-4255-8469-d6141c5d7112', 't_c526d018-73f7-48cb-8060-200d140df6c4', 't_51f75387-e70f-42e7-a1fe-92e892d36246', 't_2530c7e1-c718-4865-a111-828bd5b7e771', 't_c624e118-b071-447e-9556-356e5d64a09c', 't_4bc122e6-c9d2-4e7a-a362-e47e3a1315b1', 't_66d888fd-3b7e-42e6-9dd3-b795eb942930', 't_4c8e31cb-e68a-46de-b1b3-aade6d735b7f', 't_1340d48d-54d3-426c-adba-56411e2918cd', 't_43834b22-1626-43a6-a08f-4a2912057a5c', 't_1653c235-5a57-44a0-a5c5-2764be253205', 't_42105302-1ccc-4991-97c1-318ed32c5a0a', 't_886b5a90-6595-4a09-80fd-37715bedd6de', 't_1231d74d-7117-4ae6-ae7c-2fa7e2322bcb', 't_ed23e1d9-c855-475f-9aaf-a92a891063d6', 't_1f29a55f-bb68-41ce-93ab-214ce01fc4a6', 't_507072bf-99c6-43b3-8c80-71b4efafe0c1', 't_1006c900-d5e2-4aeb-8d01-dd6a65ae6fa9', 't_5e1daebd-c4be-4618-bf66-c3a7b1bf9b64', 't_331459ce-0332-4d66-916a-2f5bbf4651df', 't_12854ae3-2d70-4170-9636-abe307755d59', 't_af34d145-b0ab-4fdb-aacb-10c5e6f51e93', 't_93af00fd-eec8-40c0-855a-06bedc834279', 't_37b994f4-85c4-41c7-afce-bf39f4af5c00', 't_8955d78c-9bf2-4727-8c10-2638d952415e', 't_37a1e900-aeb7-403e-9406-d6aa1e7cd4b8', 't_a1e00f52-53d5-4c6a-a601-5ec16752f768', 't_d6744b14-cb0a-4739-a78d-6c9f5934cef3', 't_692f6fdb-42ee-4704-8e8f-0c7fbed6f06a', 't_68d84d19-3bff-416e-a6d0-327a84822ab5', 't_e01bf5a2-5520-4a44-9053-bd2af4fff259', 't_3e3de3be-3686-4501-bdfd-8fa7f9996242', 't_3c1d3451-b3e5-4468-b9bf-ddd72d24ad85', 't_e4ae83b3-edb5-4dc9-bb44-72acf7ac78b4', 't_bf6048f4-497d-4ea3-8cf0-add1d2f6a5ef', 't_547981d3-88be-4fb6-8610-8990b507487d', 't_7bfcb1f2-5a08-4d7f-9f1e-408d4566a3c3', 't_9b6c14ef-a6ae-4f1b-9f1e-484dc9805d2c', 't_121e8dc1-a50a-447f-ad51-d6112691a229', 't_7faba1d9-9b3e-42e8-8751-bebf1e0a2bcd', 't_39707bde-b651-472a-910e-634694ef0ce0', 't_b2f064e3-5d5a-4f4e-b40f-5c346908f819', 't_2449ae46-5a8b-4fad-bed2-3a60a9fa73a2', 't_4a3b4449-47d5-409a-93d4-102283a8d06b', 't_4327c8f3-03d8-4e45-902d-ba2c29f5ae4e', 't_77fb9680-d53c-4cf6-a575-193a39569f58', 't_21e15a0a-21e6-4174-8143-8c8eb4335e5a', 't_3771dfe7-65e0-4479-a114-fae4f3adb6bb', 't_099eba1c-9a4a-47d8-a0c6-26ceb4a7821e', 't_5756d25a-3ab8-4352-a897-694efabc6973', 't_85a6b033-6f68-461e-8843-9cadcd586e0e', 't_d912e074-c397-44b7-90bc-2072afe5bdc0', 't_104e178a-d4d4-4ace-8fe7-24b8e80f7340', 't_505acccf-73ec-4dca-beaa-06e5f299e638', 't_95a1a017-6713-4344-a91a-1c2867cee433', 't_f18a5fe4-d9db-4537-90c6-975f83bba003', 't_d3b7776e-706c-48c0-9f8d-3ed04fe79c09', 't_defdb705-dba5-4347-8313-52eb9fc67bcd', 't_30adb8cb-1a8f-4108-b80f-7be485de16d5', 't_b5589d27-f958-4b45-999e-1660cc9b7866', 't_54891286-ac3c-48d7-aace-99c92b167842', 't_c27abfac-cea0-4e8d-8187-dbc7bf22daa8', 't_d4ac14f3-f33b-49ab-bc05-e4a0d7aa8e6c', 't_8b672636-2b47-4de2-ac80-bfbcff406835', 't_7117c9ca-e47f-4746-a0b1-9b1bdbdea509', 't_43332410-9ccf-43ec-af30-b08edc120035', 't_b5b08872-3158-464e-aa01-47019e0d14fd', 't_81ea9ea5-f9ee-4b15-8764-940268e345c1', 't_c8e8d94c-e9f8-4a46-a072-c0d900239f8e', 't_073356be-4750-42e6-b274-a1b769cf2c1a', 't_4a5a12c3-cae3-4317-bf91-2dda8641a6aa', 't_289f83af-7881-4965-8ac2-fe66f50f274a', 't_65bf54ab-115a-4e4a-aba5-78bb32e87ba4', 't_c7b15d97-203c-4c8d-944c-8eb42cfbecf4', 't_a99fb8a3-e0c0-4e4d-8f2e-30bce8013617', 't_9c0aaa67-9e1d-4707-b412-af63da0894a4', 't_8a7dff50-d737-4d46-9f4a-0a94765d29fa', 't_ece83b33-ed7d-42df-b6c3-b1c4cc492277', 't_2f11f0f7-c46a-4e01-ae22-b802a9694edd', 't_5a8234a9-98de-4686-883d-a4fc4ca944e1', 't_e2e5a187-6c22-40a0-aaf6-432bd0f37410', 't_77dd5008-a7cb-46df-820e-d1388c2458d4', 't_ddb49766-028c-4232-a171-ef1b56044b21', 't_1a1d9429-a054-46af-a47d-01f21e314028', 't_8de9984d-8890-44cb-a533-d5613621429d', 't_837b89f2-26aa-4ee2-bdf6-f73f0dd59b26', 't_8ba94310-f8db-4e5c-9cff-f16a3b0833d5', 't_dfd85e90-8493-49ef-b057-a68edde9d342', 't_8c9ef703-a233-4bd8-9c40-8841a2d7a3b8', 't_398e4582-e739-443c-9ce7-f6a07532bd1c', 't_040fa99e-7f61-419e-b1f9-e76fe8274368', 't_b04edbcf-19e2-4c95-934b-df7ac7facda4', 't_c77cc9d8-53fa-4aa9-a6a5-1ee7c219d6e6', 't_b5917861-1d15-4ddf-8b81-c22b2361adb7', 't_7bbc1549-e4c1-4aa6-890d-6dc09c43cd6e', 't_e9b7956a-b94b-4f8e-9327-d095fdbddc4d', 't_772d8c76-649f-4ee6-aa34-f2132c1c6389', 't_f774f079-52d3-47e7-9367-dbc9b5d9f655', 't_7185f638-779f-4b5d-aa68-c4f3fff4aa01', 't_16e67e11-48f7-4850-8a1d-0349f7c48257', 't_5beaee35-9043-4ca0-8163-1c1400082449', 't_3921c0b0-620a-4e86-9d9f-176127b2d4da', 't_8ee4251b-3ad4-44aa-98b7-008788e8fbd3', 't_11c26cbc-8461-468c-bb13-e379e6e2ec95', 't_efa264ad-0d9d-47bb-b460-45a19c14ebf1', 't_bdf35782-371c-4fd3-8471-48b49fa36104', 't_6d895d3b-4300-4bd2-a198-2ba52a3a95d2', 't_7c5d413e-5124-445e-af89-ed48b1aee072', 't_a95851ef-4766-49be-bfed-24cae47bbb35', 't_8a13af8f-8f53-47d2-8ab2-76e6beed9fa5', 't_b16bf338-6763-4f5e-8025-4c4511f3e4f8', 't_23750b67-8939-46c7-8634-6a2c44430047', 't_fcd34562-dbec-4160-89c0-1058f4934489', 't_ca29ab07-837f-4b4c-9ad6-a039cd34ff64', 't_22360de0-2832-4d70-a636-789ae96bdd64', 't_6c4dd513-1fd9-478b-bcf2-9d88bbf1e7c3', 't_de0265ce-feb4-40ae-a723-48a0623e076f', 't_96e41773-63a3-46ba-a51e-0bfbbcd4b974', 't_6adb3f36-2884-4491-8852-e4f4b99b852e', 't_0c66e387-21d1-4102-8cf9-572d86ad8535', 't_6cffd136-e5c5-4b8e-9d70-ace19f166b6d', 't_1adf5946-a648-414f-94d1-19a2c5e7df82', 't_b63d27b0-c4c4-467a-b9ef-c698860cc28a', 't_fc0511fb-deae-4bc2-8e6b-bf169f4172c7', 't_b6a04247-3f05-4524-9c86-c56d26dbf22f', 't_0bb132ef-49f7-45b6-af1b-f7adffa4226b', 't_34bc00df-a3bd-466c-a647-d214f52861c6', 't_f8415da7-210d-4525-a23e-c59c8c8aea71', 't_a6e5f7c8-4390-499c-8750-3330a7579a85', 't_5f65727f-6c37-4e9c-b430-30625f24971d', 't_1597ce36-05d0-4a7a-8e86-91b9be1d080f', 't_6a3dddc7-01d3-4d4a-ad54-0929454768ab', 't_a5db863d-b21b-4e89-ba88-368b7b38fd1f', 't_4dbae066-4fab-4712-a276-d314f89558e9', 't_98ca439c-6535-4bf0-8da1-732783a19c9e', 't_cb7acf28-5582-4ffb-a9f2-e54684206b7e', 't_8a37eac1-45ef-445d-bda0-2f5647d12530', 't_72d9203b-2ecd-4b9b-9a35-e93eac253793', 't_5a364cb9-ee84-47ae-b943-51be897e617b', 't_6bf2033d-1e44-4edd-a14d-f468dff6f526', 't_0003e865-d0c7-4dbf-a2e1-ef4c1bb0d5e3', 't_ca6541ae-7ba4-4fc3-bb7d-1746f9ff1df4', 't_e8c39f50-c50b-4f1b-a5a1-802f163272a3', 't_537c3de0-4c45-48d5-b196-4e9cee86ee8e', 't_4e873432-27b7-4a9c-a943-f4a28ffd5c4a', 't_9bfb7fcf-cf17-4f6f-a2be-7f9c99c3d777', 't_5f70b0c7-eaf2-4aa2-9f34-2a14afd6b12d', 't_94f895e9-dd6f-473c-b61a-75d1616cfead', 't_32471083-ec63-43dc-920d-5f82f8bfdd66', 't_2080cc11-5e34-41a4-adb8-0475b4e80517', 't_55202f62-8cde-4659-8290-4446a6bb7fa3', 't_d8e6dd77-3f08-4328-b60f-783bd0517b2a', 't_d8a22640-307a-45ae-ab12-4e59391e29d4', 't_b56ee93a-ab1a-43f7-b8ac-81e4bc5029ae', 't_9b61d1fc-16ba-4b7f-86e4-95a89cc88444', 't_1094f2c3-ca03-4de3-9db1-d58ccf8977bc', 't_3eec7412-c3a3-4a04-b30f-c5dbaa96149f', 't_17fa19af-d6b8-4f9e-8d0d-27242b12c43c', 't_47eaf700-84f9-450b-b994-a92dbc11e5fb', 't_399c885a-60fc-4b7f-aa17-744208ee80a5', 't_f6fa2516-263b-4d3f-b23c-509ada14c0b8', 't_f7e7583d-d30a-4fbf-903c-1408c8eac459', 't_856de204-f13b-4e9e-b3ce-1b7d8323e39a', 't_29219de6-da5e-4c37-a53a-d8bebb5b144c', 't_bfffdbfc-991d-4e60-928a-ec1be30cc973', 't_ca9f9142-c0b0-48d7-ac44-562c34f87224', 't_123084ea-33fc-49b8-a60d-7cd19bf55349', 't_9e9759b6-4c1e-4a15-94a7-1a9a9e500f79', 't_ab17861b-fbdc-49d3-a325-b651d1b02ce0', 't_68fdc49d-b377-4f0d-bb31-b6f831ee7096', 't_96d4d5ac-d651-4fc6-b29c-31d9cfba8247', 't_f079b816-5f71-4de8-b0fe-dbe63539f1b9', 't_957042ef-658d-459a-a7d5-48f00ea45840', 't_c5200f99-cad1-4112-a0ff-0b3ab95fef2f', 't_d839a825-bd53-47ab-b34f-0718074e6845', 't_43615899-1ccf-44fc-930c-0d0df7d96ba2', 't_30f1544a-cbbd-4eb9-9379-fcbf5916eb2c', 't_9a1c79fd-f27a-4c68-9464-221dffc70013', 't_9070284f-e8ee-4ff6-82e4-ec55607c5379', 't_882765fe-8da3-4bbc-a694-594824e00354', 't_6ef5f3a8-6c38-46a8-b80a-3e773991bf68', 't_5e1b30cf-e032-4873-8087-15605c4fd424', 't_44ac0817-cfae-4afe-b2ea-3b349dfcaea8', 't_aa7c5540-52e0-4836-9d7d-6c718f628162', 't_be3751f6-0d06-4474-b827-46431a10e7dc', 't_5bc80214-5fd4-4746-a401-0eabe0bcaf0a', 't_509ffa6d-9145-4335-90e8-d310ad6e3b96', 't_99136b2b-f643-4458-9b30-278c0c115ea4', 't_feb7c686-a5c4-4a10-b9fd-e0539ce6e0f3', 't_145c8fbd-1796-4370-813d-7ad84c71ede5', 't_581f8265-5abe-4b30-994a-6675ff1faf5f', 't_5bb79360-9e3b-400c-a072-41c0985211f3', 't_cec6b388-19b2-443b-8b6c-0f264c9be25e', 't_94fd5426-cae5-4c15-b6ff-afecb717c833', 't_771b05e0-caf7-4895-93b6-5be299bb8519', 't_9fc5b5f1-cfe7-4ff8-856f-8d0be25f9751', 't_42ec8cf5-8109-4400-b90f-c13dd5ec4c7c', 't_0394df14-8d5c-4118-b1bb-5fc27136ab5b', 't_4fa5ffd0-10c6-4f14-8328-7971485892f8', 't_9efb4251-0a18-4854-a28d-e3bb65c772b5', 't_71657f8a-4daa-4077-b211-7336dd826d8a', 't_2ce8d90a-c40c-4b4e-a529-61b121dcf955', 't_691080da-14b3-4e7f-bba8-07687955bdd6', 't_d45094b1-d782-4c10-9a7a-b9a5b90177c4', 't_cc46673c-ea52-4ca9-8c45-a14e0143a073', 't_e3f50cdd-7f43-429e-a9c1-24502fdc208d', 't_d124fb2b-0de2-4a73-ba31-aff89b5f3e7c', 't_4f3e899a-0054-450f-bf8b-d8a97d4d4a2f', 't_4afb256e-d054-44d8-a100-3902a556984d', 't_82d23b22-4aaa-49c4-b0fa-8480cffae398', 't_11e0210a-95d0-42c1-9a7f-70bebce37de2', 't_0286e13f-801d-48cd-bfec-1dcd61f11aa9', 't_6dd41409-4564-446b-a8c4-6ba6dd5ef39d', 't_cfc7824f-dbbc-4a76-b5f9-44abd4fdf65b', 't_4c5baa6e-3643-4978-810c-031636188d62', 't_2bac601c-bf37-4338-9f83-6de3755484f8', 't_752978da-5dea-4cba-bb81-682c670acb43', 't_593e9319-a02c-47d2-a419-c29ef04ae1d8', 't_e5167851-4378-4b97-a493-8880bc11f903', 't_60638a00-0c04-4a3b-9439-a86ac969742a', 't_f2754d05-0441-4c41-8a2e-d00928f723e7', 't_4e72caee-a4bb-46b8-a3d3-9ccc5af984ca', 't_36283341-80a9-4b2b-9c9e-21a25461a50c', 't_6914e407-2b06-47a4-beaa-561914a93f2e', 't_f5146a57-248d-4ff7-922e-63b5b9117665', 't_e370f879-949b-44dc-bf4f-34a155c7afbd', 't_4f68d263-db27-4296-a61f-a5dd45134bca', 't_8fc8c120-77e0-480b-af54-f56e2e7c4280', 't_1452568a-b896-4021-8453-73030a39d05a', 't_50336207-8c1f-450b-8b6a-e31aafebe6a6', 't_a4e07064-c0dd-4a30-ab76-7c25bd47d002', 't_0f63bfbc-6375-471c-8985-926cb85b71b7', 't_4dc303ae-38ad-4188-86a8-15b897aa6a2b', 't_be84a209-f79d-4fb5-b460-7278eaffbf29', 't_8043f5b8-d261-4e48-864c-0f4daa506079', 't_4f0b3df2-0420-463e-b690-0e758a18e493', 't_c7a68e41-520e-40d4-abf7-0885045ef1b2', 't_cf5fc409-6509-4c93-9113-34c980862fd3', 't_918bb6a7-d7cb-45d3-a822-a2f20e146d73', 't_ff61cbee-dd79-4788-affe-cf4a130842cf', 't_6ee1a345-0505-4c05-b02c-ecab254e5a3b', 't_b8a2afd7-0d2c-46b5-81e4-2ca759f9ac80', 't_8a131030-d88b-4cbb-9993-cfd61bd796ad', 't_37218ebd-19ef-41d0-acc5-a4991880ec4f', 't_37fce80a-9a26-4286-a67f-3ece71537e28', 't_7b649138-aaf6-4c20-8568-110bf9322323', 't_f8da6e90-5abd-438f-a2e6-670bafd5293e', 't_fbcadc2e-f24b-4730-92b7-0da6a3cee97b', 't_8df216cb-18c2-43fc-8b78-460570c8b260', 't_380d948f-f3cb-4013-b073-19306db47d78', 't_7523894c-d913-4af2-90ad-36db924a3afb', 't_c5e3e3e6-3da8-49e1-9631-5c68191f5a18', 't_df6dff33-a458-484a-87e7-42e0777729a0', 't_d129dd11-0390-4b15-97c0-3bc02341050e', 't_a06820fc-920d-438a-ae02-5f0c6b246766', 't_90dac1f1-e636-436e-b0fe-8ae4717ee1d1', 't_c91a7cea-fca8-4d59-b827-8fccd835cd99', 't_aed7d895-a7ab-4c55-a026-8f59af9e2775', 't_1ba53bcf-1fe0-488e-ba80-68d770c6f970', 't_56e711c9-e960-4068-b831-5e44891d06a6', 't_e65c0501-537f-4271-83bf-0df7c39d54f6', 't_a4d282de-d9d8-4c90-b5a1-3efb64f82867', 't_5caaabd9-4e91-4229-a7ed-0d4778cf80db', 't_8a114d55-161d-4573-8d4b-5477afb3e26e', 't_787ec272-36bd-4551-a343-2712dba13d35', 't_cca62153-4cf4-465a-9d66-48478f3b0426', 't_640cac0e-4b92-48fc-9a60-845fb795304f', 't_198477f8-de46-482c-a2c6-57c73021f781', 't_f16d4a8e-e3b5-49ec-8c0d-45c88ae993a5', 't_6b893418-ab4e-473c-ac4b-9daf2ef4a841', 't_fd5780d9-068c-48c0-a437-4012cfd6de40', 't_b48a46d4-c349-4f09-8458-ae17d8d48ad1', 't_3d40c59b-fdcc-463e-a6f9-929baf5e6338', 't_e67e4763-7b5c-43d7-b330-6a2078aca52c', 't_fdf3fc6d-3b88-4bd4-90fe-3497bfb7463b', 't_d98ba5de-8ce1-4853-b1d4-e8482981f673', 't_d3ab5de9-6c1f-4de1-84ec-52f5ce42a90b', 't_17100bb3-85f1-4601-9c68-56299110fd05', 't_bdac8f18-8bd4-4349-9753-6b77a04df408', 't_fd7aa328-aa7c-4530-b700-f9a9824e6833', 't_a86648a2-a0f7-4e29-974a-c848bdc132f6', 't_bfba0731-1a42-476e-8fc1-c77d6c7e7082', 't_096e0d40-5013-492b-bd1a-7580de7037af', 't_70a2f748-f749-4109-ae04-6be92d4d517d', 't_c2a05e6f-65c4-4cdf-afd6-db1649ab5d67', 't_f70a62b3-7780-441f-89a6-3bf21e5e6d3a', 't_7909e0a7-68f3-4289-8d79-ddca1e6ce763', 't_832f9eb7-2225-4b87-ad0a-7869e71cee36', 't_f28f17d3-010c-4fc3-8834-f02134cd3aa3', 't_d51e0d34-f7f0-4524-a96c-22420b411d68', 't_223772b8-895b-4c78-a881-2ac57c621b2b', 't_3cd9beb9-024d-43ad-998c-9cc8f1de4eaa', 't_74673972-c3ca-41f2-88f7-f75a766ac60a', 't_a785bf57-5b93-44ed-93e3-8ba70f83f072', 't_089e5247-c83e-42b2-8b62-241c488264a7', 't_3defcaaf-05b7-4eae-986d-3513c5de011b', 't_b33b0f2a-9b11-4c3d-ac69-94d9dfa8d8c7', 't_b500261e-9223-4318-8004-46459ad36e76', 't_a29fb751-a5de-4056-bf7b-7f6743b87b39', 't_4ebbb5da-68b9-4666-8197-778ad8ea7573', 't_fed27dd2-1d3f-4a42-89b1-ac77890f7983', 't_745c78a0-09d5-4e49-bbdd-6a03c500d701', 't_0e7cdab4-918d-4b48-9b82-83d6a311f353', 't_c58ea922-a8b0-4200-abbf-e41d9f2ed34f', 't_51aa10ac-a588-4fed-9e8f-525f08c3bd4f', 't_0042caa4-2fda-4b1e-9f45-b62f815a59f2', 't_0e83ce61-1c5f-4831-96a1-1f2bc968d24d', 't_dd853534-13f5-46c4-9b2a-65c1121fa9e3', 't_dfb916c7-8467-44e4-8a32-1c9f10fb1379', 't_01bdd1c2-46fa-4ad1-853f-cf59ef1fc2fc', 't_66e79576-d342-44f3-b112-75a71839e255', 't_4663c5bb-22ad-4278-8f80-5f376d28835b', 't_d267ef7a-2a4b-49f5-80e5-7521cbdca70c', 't_602dfd29-0fd6-4c6a-a73c-47eb1ba93911', 't_ac3075e1-db8b-4b43-93dd-4be62b1efa46', 't_87db8131-1b5e-4cad-bd75-eaed1d63ebff', 't_25cc5f0d-4f81-4978-9c96-998cdd1ebbb7', 't_e0ba1d8b-6722-4b7b-ab34-f05a99e26ddd', 't_21a92082-0d6d-453d-b1f1-5ea02fe871f4', 't_73a3774c-a8ca-4334-b614-68b8fb144b54', 't_e747fc67-ddde-4d3b-bad2-dd0bf70ffa5d', 't_daca99d9-6cf0-4f47-8c7e-8f978031afee', 't_754d69a3-a008-4e81-a339-e1ea2c4304af', 't_1caa0f05-2b14-46e0-bdf1-dcfd72d48856', 't_efb39a08-7825-4e2d-aa6d-e0820644b3f6', 't_9abbd153-37fa-4b64-9c6c-3aad2cb082fd', 't_1c0bf5ac-e3ed-4fb1-921b-d813a0301aba', 't_9c74089d-0332-42a1-b319-5f54ec638926', 't_cf0ebbf8-7f17-4546-9943-90c4315db6ff', 't_79cf42f0-1df6-46d0-a905-05a14f6917c9', 't_933d6db5-2284-435a-8699-9a50a50c300b', 't_1be1838e-fefd-4e5c-8d39-b991eec53d70', 't_dfd3b1a6-904c-42fd-bde1-8cbdaa98ce9d', 't_b4d95ba2-460e-4780-8e3f-0c149d885278', 't_b32e7d0a-2ce9-49c4-a19e-ea473f5749ca', 't_c92309a3-d74a-47e1-a538-dc794167273b', 't_389a94ad-94fa-41a2-a0ba-52e62833ae22', 't_0cadce5f-4485-4ef4-9371-3913e713bcaf', 't_935497ed-39f1-41e6-af8c-ccaa4ac55513', 't_eb9d39ed-bf9c-44d4-831a-c6f7173a7f17', 't_44755917-32da-4340-9e2e-4bbba0a6888b', 't_5b8abc4a-9cb8-4275-955c-06c0ddd72b5c', 't_11784e0f-941d-4bd0-86ef-da54c9dce15f', 't_093cbd49-64db-4b2c-9b52-f10281b5a4be', 't_ba293ed0-3a3c-4eb9-8b3c-7ec59b47f477', 't_b22bd92b-2791-461d-bf54-07993b035174', 't_61221199-26a2-49cb-b710-81f72d396aa9', 't_19b679a9-2610-466c-9e95-f4acdc5c4fa2', 't_0806321a-d4e6-48f6-aa7b-d66be7def234', 't_b2de0c4c-9c44-4525-b335-f76d88b8f791', 't_324758ae-f8c2-4756-b3fb-2d47af3673ed', 't_15055759-04d3-4514-a614-552c59fff0c8', 't_9ae5269b-4eaf-44c0-8dea-16b8fde1f456', 't_7998dd8f-30db-44b3-a2de-c372684997a8', 't_f749cd11-0a83-4b30-9426-fef10bea31e5', 't_25cdae1e-a11c-4463-9e24-416c78348757', 't_f5b1ccd2-2bab-43da-bf04-7d6de499f97d', 't_e64b3f0d-7672-48da-88b1-c4002c778e97', 't_b75efede-e5aa-4bd3-928f-0ba6f18c6f74', 't_2cf2fadd-3ba1-4961-a030-775b0baad2ed', 't_a13a48fd-c053-4055-8448-b61f61c41642', 't_76f62795-f08b-4d39-aa30-33336414dca0', 't_94f80a0a-e4a2-4d90-9fcf-a1e77b649b42', 't_24a58edc-57f9-4096-982d-6c437509595a', 't_c57007f5-69b1-4fe6-85c7-2e7670b1addf', 't_ac688eea-115a-494a-b00e-5377e9ad0fd1', 't_261b1e3d-d555-479c-809e-ebcd62ddb134', 't_8c559c8d-4f3f-4482-a225-c0667e1b2ced', 't_8c552b73-c074-4e5b-a4f7-bf8ed3a69387', 't_3d36831c-5b24-4c0f-a5d3-2190ff2b2b2a', 't_6abf8bbb-0d87-41d1-bbf4-47bf2743aca8', 't_6af2728a-9480-4c2d-85f3-ba1006bcf410', 't_c13d8421-06d8-43df-aed5-7bbc8c791efb', 't_a6ced1bc-6c61-417e-9b1f-f5448f5c8e9f', 't_0592dc80-e7f6-46ca-898d-9e0e7af8f513', 't_5c037dce-2158-468f-b3a9-2d8bb17a3177', 't_2003450a-5812-4864-a621-cff5a6062b15', 't_50c8bfb1-be67-4608-9d01-f11f672a15d6', 't_9b0b88ee-3026-4a76-b1e5-526ff24d7aab', 't_d11f3a92-3f3a-4dae-a5a8-2206ad0d38f7', 't_902a5e99-f2bb-4d09-a7e5-10dab666f965', 't_dc937602-db3d-4952-97b7-12b4af955f51', 't_a250b0c7-0b65-471b-a235-c43a956d6388', 't_20c7c621-b989-4265-a2e5-b72a9795cf2b', 't_05758702-9a62-4f64-9600-c40fc092ea71', 't_ea7ec70f-3bbe-4319-9b44-6f44fa37a915', 't_3e71524f-171d-4de5-9918-1af901c3dff6', 't_c2aed32e-9fb9-4f7a-b6a2-066ecaf70fc0', 't_51c86b54-d4d7-417c-898a-4da23fd0bf79', 't_b847a771-3156-4072-a3dd-c1d4c92d1533', 't_9a42d624-8484-4626-8ea6-62d7343b4616', 't_28560728-a743-4bb4-8ab1-038d71fd13b5', 't_d93cbf6f-2bcb-45c5-bdf6-5ad7e24751f5', 't_bda7a128-9bf2-46c8-aa94-0329f8e2c2f2', 't_6b20bf76-e86a-4de3-a8fb-2890cec1af57', 't_e50d3a14-ac03-4f33-a777-4041a9a6b57e', 't_d802e749-caf1-499b-a6da-cd7e53044033', 't_3217d0cc-a755-40cb-a818-1f077abde51c', 't_b0735d9b-ef1d-4c2b-9d9c-703891f01ea8', 't_4fccb0c2-0e09-4c94-ba6b-7432c579b515', 't_17c6e54c-24c1-4f48-bcd4-a18278380268']
st.markdown("### üóÇ Select Transcript")
transcript_id = st.selectbox("Choose a Transcript ID", transcript_ids)

if st.button("Analyze Transcript"):
    if not transcript_id or not api_key:
        st.warning("Please select a transcript and enter API key.")
    else:
        try:
            headers = {"x-api-key": api_key}
            response = requests.post(
                "https://biztelai-ds.onrender.com/analyze",
                json={"transcript_id": transcript_id},
                headers=headers
            )
            if response.status_code == 200:
                st.success("‚úÖ Analysis Successful!")
                data = response.json()

                # Raw JSON
                with st.expander("üîç Raw Analysis Output"):
                    st.json(data)

                # Article
                st.markdown("### üìÑ Article Summary")
                st.write(f"**Article URL:** [{data['article_url']}]({data['article_url']})")

                # Message Count
                st.markdown("### üìà Message Counts")
                st.metric("Agent 1 Messages", data['agent_1_message_count'])
                st.metric("Agent 2 Messages", data['agent_2_message_count'])

                # Sentiment Chart
                st.markdown("### üòä Sentiment Overview")
                sentiments = pd.DataFrame({
                    "Agent": ["Agent 1"] * len(data['agent_1_sentiments']) + ["Agent 2"] * len(data['agent_2_sentiments']),
                    "Sentiment": data['agent_1_sentiments'] + data['agent_2_sentiments']
                })
                fig, ax = plt.subplots()
                sentiments.groupby(["Agent", "Sentiment"]).size().unstack().plot(kind="bar", ax=ax)
                st.pyplot(fig)

            else:
                st.error(f"‚ùå Error {response.status_code}: {response.text}")
        except Exception as e:
            st.error(f"‚ö†Ô∏è Exception occurred: {e}")

st.markdown("---")
st.caption("Built By Manash for Assignment ¬∑ Developed by Manash Jha")
